apiVersion: v1
kind: ConfigMap
metadata:
  name: config-json-exporter
data:
  config.yml: |
    ---
    modules:
      default:
      k6_vus:
        headers:
         Content-Type: text/plain; version=0.0.4; charset=utf-8
        metrics:
        - name: k6
          type: object
          path: '{ .data }'
          help: k6_vus k6 virtual user
          valuetype: gauge
          values:
            vus: '{ .result[0].value[1] }'
      k6_vus_max:
        headers:
         Content-Type: text/plain; version=0.0.4; charset=utf-8
        metrics:
        - name: k6
          type: object
          path: '{ .data }'
          help: k6_vus_,ax k6 virtual user max
          valuetype: gauge
          values:
            vus_max: '{ .result[0].value[1] }'
      k6_data_received_total:
        headers:
         Content-Type: text/plain; version=0.0.4; charset=utf-8
        metrics:
        - name: k6
          type: object
          path: '{ .data }'
          help: k6_data_received_total 
          valuetype: counter
          values:
            data_received_total: '{ .result[0].value[1] }'